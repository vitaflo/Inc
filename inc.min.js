document.addEventListener("DOMContentLoaded",()=>{const e=e=>{let t=document.implementation.createHTMLDocument();t.body.innerHTML=e,[].map.call(t.getElementsByTagName("script"),e=>{let t=document.createElement("script");Array.from(e.attributes).forEach(e=>{t.setAttribute(e.nodeName,e.nodeValue)}),t.text=e.textContent,document.body.appendChild(t)})},t=document.createNodeIterator(document,NodeFilter.SHOW_COMMENT,e=>NodeFilter.FILTER_ACCEPT);for(;t.nextNode();){let n=t.referenceNode;if(8===n.nodeType){let t=/inc:(\S+)/.exec(n.nodeValue||"");t&&fetch(encodeURI(t[1])).then(t=>t.text().then(t=>{let o=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");new Promise((e,t)=>{e(n.nextElementSibling?n.nextElementSibling.insertAdjacentHTML("beforebegin",o):n.parentElement.insertAdjacentHTML("beforeend",o))}).then(()=>{n.parentNode.removeChild(n),e(t)})}))}}});